# 🔐 認証システム設定ガイド

## 📋 アクセスコード一覧

### 現在のアクセスコード
- **`yuki2025`** - メインアクセスコード（管理者用）
- **`rakuraku`** - サブアクセスコード（一般ユーザー用）
- **`demo1234`** - デモ用アクセスコード（テスト用）

## ⚙️ 認証システムの特徴

### 🔑 セキュリティ機能
- **複数のアクセスコード対応**: 用途に応じて異なるコードを設定可能
- **セッション管理**: 認証情報をローカルストレージで24時間保持
- **自動期限切れ**: 24時間後に再認証が必要
- **QRコード自動認証**: upload.htmlへのQRアクセス時は自動認証

### 📱 ユーザー体験
- **PC側**: 初回アクセス時のみ認証画面を表示
- **モバイル側**: QRコードスキャン時は自動認証、直接アクセス時は認証画面
- **エラーハンドリング**: 間違ったコードを入力した場合の適切なフィードバック
- **Enterキー対応**: パスワード入力後Enterキーでログイン可能

## 🛠 設定変更方法

### アクセスコードの変更
以下のファイルの `ACCESS_CODES` 配列を編集：
- `index.html` (PC側)
- `upload.html` (モバイル側)
- `public/index.html` (本番PC側)
- `public/upload.html` (本番モバイル側)

### 認証期限の変更
`AUTH_DURATION` 変数を変更：
```javascript
const AUTH_DURATION = 24 * 60 * 60 * 1000; // 24時間（ミリ秒）
```

## 🔄 認証フロー

### PC側アクセス
1. `https://rakuraku.pages.dev` にアクセス
2. 認証画面が表示される
3. アクセスコードを入力
4. 認証成功で QRコード画面に移行

### モバイル側アクセス
1. **QRコードスキャン**: 自動認証 → 直接アップロード画面
2. **直接URL**: 認証画面 → アクセスコード入力 → アップロード画面

## 📊 セキュリティレベル

- **レベル1**: 簡単なパスワード認証（現在の実装）
- **将来の拡張**: IP制限、時間制限、ワンタイムパスワードなど

## 💡 使用例

### 個人利用
- メインコード（`yuki2025`）を自分専用に
- サブコード（`rakuraku`）を家族・友人用に

### テスト・デモ
- デモコード（`demo1234`）を一時的な共有用に

---

**注意**: アクセスコードを変更した場合は、必ず本番環境（public/）にも反映してください。
